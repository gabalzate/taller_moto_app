<%# Esta línea se suscribe a las actualizaciones en tiempo real para esta conversación %>
<%= turbo_stream_from @conversation %>

<div class="container mx-auto p-4 max-w-3xl">
  <h1 class="text-2xl font-bold mb-4 text-gray-800">
    Chat con <%= current_user.is_super_admin? ? @conversation.user.email : "Soporte" %>
  </h1>

  <%# Contenedor donde se añadirán los nuevos mensajes %>
  <div id="messages" class="bg-white shadow-lg rounded-lg p-4 border h-96 overflow-y-auto space-y-4">
    <% @messages.each do |message| %>
      <%= render 'messages/message', message: message %>
    <% end %>
  </div>

  <%# Formulario para enviar un nuevo mensaje %>
  <div class="mt-4">
    <%= render 'messages/form', conversation: @conversation, message: @message %>
  </div>
</div>
